-- Table to reference users
CREATE TABLE databite.user (
    username VARCHAR(50),
    password VARCHAR(50),
    companyID NUMERIC(6, 0),
    PRIMARY KEY(username)
);

-- User test data
INSERT INTO databite.user
VALUES('email@domain.com', 'password', 123456);


-- Table to reference datasets
CREATE TABLE databite.datasets(
    username VARCHAR(50),
    companyID NUMERIC(6, 0),
    datasetID INT(6) AUTO_INCREMENT,
    PRIMARY KEY(datasetID)
);

-- DataSets test data
INSERT INTO databite.datasets (username, companyID)
VALUES('email@domain.com', 123456);


-- Create link between users/companies and data sets
CREATE TABLE databite.userdatasets (
    userDataSetID INT(6) AUTO_INCREMENT,
    username VARCHAR(50),
    datasetID INT(6),
    can_edit bool,
    PRIMARY KEY(userDataSetID),
    FOREIGN KEY(username) REFERENCES user(username),
    FOREIGN KEY(datasetID) REFERENCES datasets(datasetID)
);


-- UserDataSets test data
INSERT INTO databite.userdatasets (username, datasetID)
VALUES('email@domain.com', 1);


CREATE TABLE databite.company (
	companyID INT(6),
	company_name VARCHAR(50),
    PRIMARY KEY(companyID)
);

INSERT INTO databite.company 
VALUES(123456, 'Test Company');

ALTER TABLE databite.user ADD account_type INT NOT NULL DEFAULT(0);